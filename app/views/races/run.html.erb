<h1><%@race.name%></h1>

<% tfunc = ["linear", "linear", "ease-in", "ease-in", "ease-out", "ease-in-out"] %>
<% delay = 1%>

<%= link_to "View Snails", snails_path %>

<div class='results'>
    <h1>
    <%= "#{@winner.snail.name} won" %>
    <br/>
    <%= "with a time of #{@ranks.first.round(3).to_s}s!"%>
    <br/>
    <%= "You won #{@payout} gold!" if @payout > 0%>
    <h1>
</div>

<div class="racer-one">
    <div style="animation: racer-one <%=@timers[0]%>s <%=delay%>s <%=tfunc.sample%> forwards;">
        <div class="snail">
            <%= image_tag(@lane_one.snail.shell.image, class: "shell")%>
            <div class ="chug">
                <%= image_tag(@lane_one.snail.body.image, style: "animation: chug #{@timers[0]/15}s #{delay}s steps(4) #{@timers[0].ceil};")%>
            </div>
        </div>
    </div>
</div>
<div class="racer-two">
    <div style="animation: racer-two <%=@timers[1]%>s <%=delay%>s <%=tfunc.sample%> forwards;">
        <div class="snail">
            <%= image_tag(@lane_two.snail.shell.image, class: "shell")%>
            <div class ="chug">
                <%= image_tag(@lane_two.snail.body.image, style: "animation: chug #{@timers[1]/15}s #{delay}s steps(4) #{@timers[1].ceil};")%>
            </div>
        </div>
    </div>
</div>
<div class="racer-three">
    <div style="animation: racer-three <%=@timers[2]%>s <%=delay%>s <%=tfunc.sample%> forwards;">
        <div class="snail">
            <%= image_tag(@lane_three.snail.shell.image, class: "shell")%>
            <div class ="chug">
                <%= image_tag(@lane_three.snail.body.image, style: "animation: chug #{@timers[2]/15}s #{delay}s steps(4) #{@timers[2].ceil};")%>
            </div>
        </div>
    </div>
</div>
<div class="racer-four">
    <div style="animation: racer-four <%=@timers[3]%>s <%=delay%>s <%=tfunc.sample%> forwards;">
        <div class="snail">
            <%= image_tag(@lane_four.snail.shell.image, class: "shell")%>
            <div class ="chug">
                <%= image_tag(@lane_four.snail.body.image, style: "animation: chug #{@timers[3]/15}s #{delay}s steps(4) #{@timers[3].ceil};")%>
            </div>
        </div>
    </div>
</div>

<div class="finish_line">
    <%= image_tag("finish_line")%>
<div>
<div class="prize">
    <%= image_tag(@race.prize.image)%>
</div>